<h3 class="animated fadeIn">Add new book</h3>
<hr class="my-4">
<form [formGroup]="forma" (ngSubmit)="saveBook()">

    <div class="form-group row animated fadeIn fast">
        <label class="col-2 col-form-label">Title:</label>
        <div class="col-8">
            <input [ngClass]="{ 'is-invalid': forma.get('title').invalid && forma.get('title').touched }"
                class="form-control"
                type="text"
                placeholder="Book Title"
                formControlName="title">
            <div  *ngIf="forma.controls['title'].errors?.required"
                class="form-control-feedback invalid-feedback">
                This field is required
            </div>
        </div>
    </div>

    <div class="form-group row animated fadeIn fast">
        <label class="col-2 col-form-label">Editorial:</label>
        <div class="col-8">
            <input [ngClass]="{ 'is-invalid': forma.get('editorial').invalid && forma.get('editorial').touched }"
                class="form-control"
                type="text"
                placeholder="Editorial"
                formControlName="editorial">
            <div  *ngIf="forma.controls['editorial'].errors?.required"
                class="form-control-feedback invalid-feedback">
                This field is required
            </div>
        </div>
    </div>
    
    <div class="form-group row animated fadeIn fast">
        <label class="col-2 col-form-label">Year:</label>
        <div class="col-8">
                <input [ngClass]="{ 'is-invalid': forma.get('year').invalid && forma.get('year').touched }"
                class="form-control"
                type="text"
                placeholder="Publication Year"
                formControlName="year">
            <div  *ngIf="forma.controls['year'].errors?.required"
                class="form-control-feedback invalid-feedback">
                This field is required
            </div>
        </div>
    </div>

    <div class="form-group row">
        <label class="col-2 col-form-label">Authors</label>
        <div class="col-md-8" formArrayName="authors">
        
            <input *ngFor="let author of forma.controls['authors'].controls; let i = index "
                [ngbTypeahead]="search"
                placeholder="Search Author"
                [formControlName]="i"
                type="text"
                class="form-control"
                required>
        </div>
        <button (click)="addAuthor()"
                type="button" 
                class="btn btn-primary">
            New
        </button>
    </div>

    <div class="form-group row">
        <label class="col-2 col-form-label">&nbsp;</label>
        <div class="input-group col-md-8">
            <button  
                type="submit" 
                class="btn btn-outline-primary">
                Save Book
            </button>
        </div>
    </div>

</form>
